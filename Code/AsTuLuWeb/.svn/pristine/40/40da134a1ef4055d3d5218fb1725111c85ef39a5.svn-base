$(document).ready(function () {
    $('#buttonState').on('click', ".voteButton", function () {
        var buttonIdValue = $(this).attr('id');

        var bookIdValue = document.getElementById("bookID").value;

        $.post("/Book/UpdateRelationship/", { bookId: bookIdValue, buttonId: buttonIdValue },
            function(data) {
                if (data.ResultMessage) {
                    $('#update-message').fadeOut(function () {
                        $('#update-message').text(data.ResultMessage);
                        $('#update-message').fadeIn('slow');
                        $('#update-message').fadeOut(1500);
                    });
                } else {
                    switch (data.StatusValue) {
                        case 1:
                            $('#upvote').addClass("greenLight");
                            $('#downvote').removeClass("greenLight");
                            break;
                        case 2:
                            $('#upvote').removeClass("greenLight");
                            $('#downvote').addClass("greenLight");
                            break;
                        default:
                            $('#upvote').removeClass("greenLight");
                            $('#downvote').removeClass("greenLight");
                            break;
                    }
                }
            });

    });
});