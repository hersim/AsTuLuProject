@using AsTuLuWebProject.Utilities.Enums
@model List<AsTuLuWebProject.Models.ViewModels.BookDisplay>


<div class="bookView"style="clear: both">
    @for (int i = 0; i < Model.Count; i++)
    {
        string likeStatus;
        
        switch (Model[i].LikeState)
        {
            case null:
                likeStatus = "neutral";
                break;
            case (int)EnumLibrary.BookRelationshipEnum.Liked:
                likeStatus = "like";
                break;
            case (int)EnumLibrary.BookRelationshipEnum.Unliked:
                likeStatus = "unlike";
                break;
            default:
                likeStatus = "neutral";
                break;
        }

        <div class="bookUnit @likeStatus">
            @Html.ActionLink(" ", "BookDetails", "Book", new { @bookID = Model[i].BookID}, new { @class = "linkspan"})
            <div class="bookTitle" data-id="@Model[i].BookID">
                @{
                    if (Model[i].BookName.Length <= 25)
                    {
                        @Html.DisplayFor(item => item[i].BookName)
                    }
                    else
                    {
                        string name = Model[i].BookName.Substring(0, 25) + "...";
                        
                        <span>@name</span>
                    }
                }
            </div>    
            <div class="clear"></div>
            <div class="bookDetail clear" style="font-style: italic">
                @if (Model[i].ListEditors.Count > 1)
                {
                    <span>Multiples!</span>
                }
                else
                {
                    <span>@Model[i].ListEditors.First()</span>
                }
            </div>
            <div class="bookScore clear">
                Score: <span style="font-weight: bold">@Html.DisplayFor(item => item[i].Score)</span>
                Consulté: <span style="font-weight: bold">@Html.DisplayFor(item => item[i].TimesConsulted)</span> fois
            </div>
            <div class="clear"></div>
        </div>
    }
</div>